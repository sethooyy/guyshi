<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Romantic Website for Her</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: pink;
      font-family: 'Cursive', sans-serif;
      overflow: hidden;
    }
    #loginScreen, #questionScreen, #surpriseScreen, #messageScreen, #adminPanel {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    .falling {
      position: fixed;
      top: -100px;
      animation: fall linear infinite;
      font-size: 20px;
    }
    @keyframes fall {
      0% {
        transform: translateY(-100px);
      }
      100% {
        transform: translateY(100vh);
      }
    }
    .heartfelt-text {
      position: absolute;
      white-space: nowrap;
      color: #fff;
      font-size: 24px;
      animation: scrollText 20s linear infinite;
    }
    @keyframes scrollText {
      0% {
        left: 100%;
      }
      100% {
        left: -100%;
      }
    }
    .inputArea, .outputArea {
      margin: 10px;
    }
    textarea {
      width: 300px;
      height: 100px;
      font-family: cursive;
    }
    .admin-message {
      background: white;
      padding: 10px;
      margin: 5px;
      border-radius: 5px;
      font-style: italic;
    }
  </style>
</head>
<body>
  <audio id="bgMusic" src="music.mp3" autoplay loop></audio>  <div id="loginScreen">
    <h1>Welcome to My Romantic Website</h1>
    <button onclick="showQuestionScreen()">Enter as Guest</button>
    <input type="text" id="adminUser" placeholder="Username">
    <input type="password" id="adminPass" placeholder="Password">
    <button onclick="adminLogin()">Login as Admin</button>
  </div>  <div id="questionScreen">
    <h2>Are you Seth's gf?</h2>
    <button onclick="showSurprise()">Yes</button>
    <button onclick="showMessageScreen()">No</button>
  </div>  <div id="surpriseScreen">
    <h1>I love you endlessly ❤️</h1>
    <div id="fallingContainer"></div>
    <div class="heartfelt-text" style="top: 30%">You are my forever, the poetry of my soul</div>
    <div class="heartfelt-text" style="top: 50%">Every heartbeat spells your name</div>
    <div class="heartfelt-text" style="top: 70%">This love is written in the stars</div>
    <button onclick="showMessageScreen()">Leave a message</button>
  </div>  <div id="messageScreen">
    <div class="inputArea">
      <textarea id="messageInput" placeholder="Type your message..."></textarea><br>
      <button onclick="saveMessage()">Send Message</button>
    </div>
    <div class="outputArea" id="messages"></div>
    <button onclick="resetSession()">Logout</button>
  </div>  <div id="adminPanel">
    <h2>Admin Panel</h2>
    <div id="adminMessages"></div>
    <button onclick="resetSession()">Logout</button>
  </div>  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCgGre7OLzLCmkUumKuKKL0Y7dxxwWKtsU",
      authDomain: "permanent-message.firebaseapp.com",
      projectId: "permanent-message",
      storageBucket: "permanent-message.appspot.com",
      messagingSenderId: "20733214265",
      appId: "1:20733214265:web:7042f7536c6e88b93397e8"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const loginScreen = document.getElementById("loginScreen");
    const questionScreen = document.getElementById("questionScreen");
    const surpriseScreen = document.getElementById("surpriseScreen");
    const messageScreen = document.getElementById("messageScreen");
    const adminPanel = document.getElementById("adminPanel");

    window.onload = () => {
      loginScreen.style.display = "flex";
    };

    window.showQuestionScreen = () => {
      loginScreen.style.display = "none";
      questionScreen.style.display = "flex";
    };

    window.showSurprise = () => {
      questionScreen.style.display = "none";
      surpriseScreen.style.display = "flex";
      startFallingElements();
    };

    window.showMessageScreen = () => {
      questionScreen.style.display = "none";
      surpriseScreen.style.display = "none";
      messageScreen.style.display = "flex";
      loadMessages();
    };

    window.adminLogin = () => {
      const user = document.getElementById("adminUser").value;
      const pass = document.getElementById("adminPass").value;
      if (user === "user" && pass === "jansitgwapo") {
        loginScreen.style.display = "none";
        adminPanel.style.display = "flex";
        loadAdminMessages();
      } else {
        alert("Invalid credentials");
      }
    };

    window.resetSession = () => {
      location.reload();
    };

    window.saveMessage = async () => {
      const text = document.getElementById("messageInput").value;
      if (!text.trim()) return;
      await addDoc(collection(db, "messages"), { text });
      document.getElementById("messageInput").value = "";
      loadMessages();
    };

    async function loadMessages() {
      const messagesDiv = document.getElementById("messages");
      messagesDiv.innerHTML = "";
      const snapshot = await getDocs(collection(db, "messages"));
      snapshot.forEach(doc => {
        const div = document.createElement("div");
        div.className = "admin-message";
        div.innerText = doc.data().text;
        messagesDiv.appendChild(div);
      });
    }

    async function loadAdminMessages() {
      const adminDiv = document.getElementById("adminMessages");
      adminDiv.innerHTML = "";
      const snapshot = await getDocs(collection(db, "messages"));
      snapshot.forEach(msgDoc => {
        const wrapper = document.createElement("div");
        wrapper.className = "admin-message";
        wrapper.innerText = msgDoc.data().text;
        const del = document.createElement("button");
        del.innerText = "Delete";
        del.onclick = async () => {
          await deleteDoc(doc(db, "messages", msgDoc.id));
          loadAdminMessages();
        };
        wrapper.appendChild(del);
        adminDiv.appendChild(wrapper);
      });
    }

    function startFallingElements() {
      const container = document.getElementById("fallingContainer");
      const texts = ["I love you", "Forever yours", "My heart is yours", "You complete me"];
      for (let i = 0; i < 40; i++) {
        const elem = document.createElement("div");
        elem.className = "falling";
        elem.style.left = `${Math.random() * 100}vw`;
        elem.style.animationDuration = `${5 + Math.random() * 5}s`;
        elem.innerText = texts[Math.floor(Math.random() * texts.length)];
        container.appendChild(elem);
      }
    }
  </script></body>
</html>
